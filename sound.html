<!doctype html>
<html>
<head>
    <title>Sound and positionsal audio</title>
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script>
        AFRAME.registerComponent('play', {
            init: function () {
                var myEl = document.querySelector('#yellow');
                this.el.addEventListener('click', function () {
                    myEl.components.sound.playSound();
                });
            }
        });
        AFRAME.registerComponent('stop', {
            init: function () {
                var myEl = document.querySelector('#yellow');
                this.el.addEventListener('click', function () {
                    myEl.components.sound.stopSound();
                });
            }
        });
    </script>
</head>
	
<body>
    <a-scene>
        <!-- Asset Management System -->
        <!-- DOWNLOAD, PRELOAD YOUR AUDIO FILES, AND UPDATE THEIR FILE NAMES IN THIS DOC -->
        <a-assets>
        	<img id="ground" src="myndir/floor-1024.jpg">
            <audio id="bass" src="myndir/106%20Sequence%20Bassline.wav"></audio>
            <audio id="pad1" src="myndir/106%20Pad%20Soundtrackish.wav">
            </audio>
            <img id="reykjavik" src="myndir/clear-sunny-sky.jpg">
            <audio id="ambient" src="myndir/upp%C3%ADr%C3%BAmiamb%C3%ADent.wav"></audio>
            <img id="home" src="myndir/screenshot-h%C3%A1kon%20bragason-1523459964097.png">
        </a-assets>
		
        <a-link href="index.html" position="6 1.5 -1" image="#home" rotation="0 90.01166961505233 0" geometry="primitive:circle;segments:64" material="shader:portal;side:double" link="">
                <a-entity text=""></a-entity>
                <a-entity material=""></a-entity>
                <a-entity material=""></a-entity><a-entity text="color:white;align:center;font:kelsonsans;value:sound.html;width:5" position="0 1.5 0"></a-entity><a-entity geometry="primitive:sphere;segmentsWidth:64;segmentsHeight:64;phiLength:180;thetaLength:360" material="shader:portal;borderEnabled:0;side:back" rotation="0 180 0" visible="false"></a-entity><a-entity geometry="primitive:sphere;radius:10;segmentsWidth:64;segmentsHeight:64" material="shader:portal;borderEnabled:0;side:back" visible="false"></a-entity></a-link>
        
		<!-- Camera -->
		<a-entity position="0 1.64 7">
			<a-camera>
				<a-cursor></a-cursor>
			</a-camera>
		</a-entity>

        <!-- Ground -->
        <a-plane src="#ground" scale="10 10 1" repeat="2 2" rotation="-90 0 0">
        </a-plane>

        <!-- Blue Cylinder -->
        <a-cylinder color="#0088FF" height="5" position="-2 2.5 0"
                    sound="src: #bass;
                           on: click;
                           volume: 1;
                           refDistance: 4;
                           rolloffFactor: 4">
            <a-entity sound="src: #bass; autoplay: false" position="1.396 1.525 0">
            </a-entity>
        </a-cylinder>

        <!-- Yellow Box with Play and Stop Controls -->
        <a-box id="yellow" color="#FFAA00" position="1.5 0.5 0.5" sound="src: #pad1">
			<!-- Play -->
			<a-sphere color="#00AA00" radius="0.25" position="-0.5 1 0" play></a-sphere>
			<!-- Stop -->
			<a-sphere color="#AA0000" radius="0.25" position="0.5 1 0" stop></a-sphere>
        </a-box>
        <a-sky src="#reykjavik"
               sound="src: #ambient; autoplay: true; loop: true; positional: false">
        </a-sky>
    </a-scene>
</body>
</html>